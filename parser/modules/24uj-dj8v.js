/*
    NOTE: ALL POSITION VALUES ARE INCORRECT, THE FIRST 8 ROWS CONTAIN METADATA

    [{
        "id" : 209261636,
        "name" : "PERMIT_DATE",
        "dataTypeName" : "calendar_date",
        "description" : "The date when Building Permit has been issued.",
        "fieldName" : "issue_date",
        "position" : 1,
        "renderTypeName" : "calendar_date",
        "tableColumnId" : 20545861,
        "width" : 127,
    },{
        "id" : 209261637,
        "name" : "PERMIT_NUMBER",
        "dataTypeName" : "text",
        "description" : "The unique City-issued permit number ",
        "fieldName" : "permit_number",
        "position" : 2,
        "renderTypeName" : "text",
        "tableColumnId" : 20545862,
        "width" : 142,
      }, {
        "id" : 209261638,
        "name" : "YEAR",
        "dataTypeName" : "number",
        "description" : "Year when permit was issued.",
        "fieldName" : "year",
        "position" : 3,
        "renderTypeName" : "number",
        "tableColumnId" : 20548565,
        "width" : 100,
      }, {
        "id" : 209261639,
        "name" : "MONTH_NUMBER",
        "dataTypeName" : "number",
        "description" : "Month number of when permit was issued",
        "fieldName" : "month_number",
        "position" : 4,
        "renderTypeName" : "number",
        "tableColumnId" : 20548733,
        "width" : 100,
      }, {
        "id" : 209261640,
        "name" : "REPORT_PERMIT_DATE",
        "dataTypeName" : "calendar_date",
        "description" : "Report label",
        "fieldName" : "permit_date",
        "position" : 5,
        "renderTypeName" : "calendar_date",
        "tableColumnId" : 20548734,
        "width" : 100,
      }, {
        "id" : 209261641,
        "name" : "JOB_CATEGORY",
        "dataTypeName" : "text",
        "description" : "Type of Building Permit",
        "fieldName" : "job_category",
        "position" : 6,
        "renderTypeName" : "text",
        "tableColumnId" : 20545863,
        "width" : 244,
      }, {
        "id" : 209261642,
        "name" : "ADDRESS",
        "dataTypeName" : "text",
        "description" : "Address that the Building Permit was issued for",
        "fieldName" : "address",
        "position" : 7,
        "renderTypeName" : "text",
        "tableColumnId" : 20545865,
        "width" : 184,
    }, {
        "id" : 209261643,
        "name" : "LEGAL_DESCRIPTION",
        "dataTypeName" : "text",
        "description" : "Legal description for address where building permit was issued for.",
        "fieldName" : "legal_description",
        "position" : 8,
        "renderTypeName" : "text",
        "tableColumnId" : 20545866,
        "width" : 304,
      }, {
        "id" : 209261644,
        "name" : "NEIGHBOURHOOD",
        "dataTypeName" : "text",
        "description" : "City Neighbourhood name.",
        "fieldName" : "neighbourhood",
        "position" : 9,
        "renderTypeName" : "text",
        "tableColumnId" : 20545867,
        "width" : 256,
      }, {
        "id" : 209261645,
        "name" : "NEIGHBOURHOOD_NUMBER",
        "dataTypeName" : "text",
        "fieldName" : "neighbourhood_numberr",
        "position" : 11,
        "renderTypeName" : "text",
        "tableColumnId" : 29035226,
        "width" : 100,
      }, {
        "id" : 209261646,
        "name" : "JOB_DESCRIPTION",
        "dataTypeName" : "text",
        "description" : "Description of the building permit issued.",
        "fieldName" : "job_description",
        "position" : 12,
        "renderTypeName" : "text",
        "tableColumnId" : 20545870,
        "width" : 280,
      }, {
        "id" : 209261647,
        "name" : "BUILDING_TYPE",
        "dataTypeName" : "text",
        "description" : "Type of Building Structure",
        "fieldName" : "building_type",
        "position" : 13,
        "renderTypeName" : "text",
        "tableColumnId" : 20545871,
        "width" : 256,
      }, {
        "id" : 209261648,
        "name" : "WORK_TYPE",
        "dataTypeName" : "text",
        "description" : "Type of work to be done.",
        "fieldName" : "work_type",
        "position" : 14,
        "renderTypeName" : "text",
        "tableColumnId" : 20545872,
        "width" : 208,
      }, {
        "id" : 209261649,
        "name" : "FLOOR_AREA",
        "dataTypeName" : "number",
        "description" : "Square footage of floor area",
        "fieldName" : "floor_area",
        "position" : 15,
        "renderTypeName" : "number",
        "tableColumnId" : 20545873,
        "width" : 80,
      }, {
        "id" : 209261650,
        "name" : "CONSTRUCTION_VALUE",
        "dataTypeName" : "number",
        "description" : "Estimated value of construction  work ",
        "fieldName" : "construction_value",
        "position" : 16,
        "renderTypeName" : "number",
        "tableColumnId" : 20545874,
        "width" : 167,
      }, {
        "id" : 209261651,
        "name" : "ZONING",
        "dataTypeName" : "text",
        "description" : "Land use zone",
        "fieldName" : "zoning",
        "position" : 17,
        "renderTypeName" : "text",
        "tableColumnId" : 20545875,
        "width" : 104,
      }, {
        "id" : 209261652,
        "name" : "UNITS_ADDED",
        "dataTypeName" : "number",
        "description" : "Change in dwelling unit",
        "fieldName" : "units_added",
        "position" : 18,
        "renderTypeName" : "number",
        "tableColumnId" : 20545876,
        "width" : 147,
      }, {
        "id" : 209261653,
        "name" : "LATITUDE",
        "dataTypeName" : "number",
        "description" : "Horizontal spatial coordinate",
        "fieldName" : "latitude",
        "position" : 19,
        "renderTypeName" : "number",
        "tableColumnId" : 20622765,
        "width" : 100,
      }, {
        "id" : 209261654,
        "name" : "LONGITUDE",
        "dataTypeName" : "number",
        "description" : "Vertical spatial coordinate",
        "fieldName" : "longitude",
        "position" : 20,
        "renderTypeName" : "number",
        "tableColumnId" : 20622766,
        "width" : 100,
      }, {
        "id" : 209261655,
        "name" : "LOCATION",
        "dataTypeName" : "location",
        "description" : "Spatial coordinates for address",
        "fieldName" : "location",
        "position" : 21,
        "renderTypeName" : "location",
        "tableColumnId" : 22448300,
        "width" : 302,
        "subColumnTypes" : [ "human_address", "latitude", "longitude", "machine_address", "needs_recoding" ]
      }, {
        "id" : 209261656,
        "name" : "COUNT",
        "dataTypeName" : "number",
        "description" : "Used for reporting",
        "fieldName" : "count",
        "position" : 22,
        "renderTypeName" : "number",
        "tableColumnId" : 20545877,
        "width" : 74,
      }
    ]
*/

/*
    SAMPLE ROW
    {
        0: 342118,
        1: "40D4B809-2D01-47F2-94FD-2B3FADC6214C",
        2: 342118,
        3: 1451733094,
        4: "393213",
        5: 1451733094,
        6: "393213",
        7: null,
        8: "2015-12-31T00:00:00",
        9: "185157437-002",
        10: "2015",
        11: "12",
        12: "2015-12-31T00:00:00",
        13: "Other Miscellaneous Building",
        14: "11807 - 21 AVENUE SW",
        15: "Plan 0620257 Blk 21 Lot 18B",
        16: "RUTHERFORD",
        17: "5454",
        18: "To construct interior alterations to an existing Semi-Detached House, Basement development (NOT to be used as an additional Dwelling).1 bedroom, 1 bathroom, living room, mechanical room, storage,",
        19: "Semi-Detached House (210)",
        20: "(03) Interior Alterations",
        21: "375",
        22: "15000",
        23: "RA7, RF4",
        24: "0",
        25: "53.4107552408284",
        26: "-113.529505586126",
        27: [ "{\"address\":\"\",\"city\":\"\",\"state\":\"\",\"zip\":\"\"}", "53.4107552408284", "-113.529505586126", null, false ],
        28: "1"
    }
*/

(function() {
    'use strict';

    const CENTS_MULTIPLIER = 100;
    const DATE_COL = 8;
    const LAT_COL = 25;
    const LON_COL = 26;
    const UNITS_COL = 24;
    const LEGAL_DESC_COL = 15;
    const JOB_DESC_COL = 18;
    const AMOUNT_COL = 22;

    module.exports = function(id) {
        return {
            id: () => id,
            type: () => null,
            status: () => null,
            latitude: (arr) => arr[LAT_COL],
            longitude: (arr) => arr[LON_COL],
            units: (arr) => arr[UNITS_COL],
            timestamp: (arr) => arr[DATE_COL],
            description: (arr) => arr[LEGAL_DESC_COL] + ': ' + arr[JOB_DESC_COL],
            amount: (arr) => {
              return arr[AMOUNT_COL] != null ? arr[AMOUNT_COL] * CENTS_MULTIPLIER : null;
            }
        };
    };

}());
